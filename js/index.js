import{d as N,r as d,o as n,g as V,c as u,F as A,i as C,f as a,w as h,e as m,t as c,p as w,h as y,b as l,a as U,j as B,l as P,m as L,n as M,q as R}from"./vendor.js";import{_ as g,u as k,a as I}from"./BuildItem.js";import{c as x}from"./UIComponents.js";import{B as D}from"./BuildsList.js";import{D as Q}from"./DialogAddBuild.js";import"./MyButton.js";import"./MyInput.js";import"./NavBar.js";const _=N({id:"users",state:()=>({allUsers:[{login:"Admin",password:"admin",isAdmin:!0},{login:"User",password:"user",isAdmin:!1}]}),actions:{addUser(s){this.allUsers.push(s)},setAdmin(s){this.allUsers.find(t=>t.login===s).isAdmin=!this.allUsers.find(t=>t.login===s).isAdmin}},getters:{getUsers(){return this.allUsers}}}),z={data(){return{users:_(),allUsers:_().allUsers}}};function F(s,t,f,b,e,p){const i=d("router-view");return n(),V(i)}const H=g(z,[["render",F]]),J={data(){return{users:_().allUsers,setAdmin:_().setAdmin}}},O=s=>(w("data-v-87a8a32d"),s=s(),y(),s),T={class:"all-users"},j=O(()=>l("div",{class:"all-users__title"},"All users:",-1));function q(s,t,f,b,e,p){const i=d("my-button");return n(),u("div",T,[j,(n(!0),u(A,null,C(e.users,r=>(n(),u("li",{key:r.login},[m('Login: "'+c(r.login)+'", Password: "'+c(r.password)+'", IsAdmin: "'+c(r.isAdmin)+'"',1),a(i,{onClick:o=>e.setAdmin(r.login),style:{"margin-left":"10px"}},{default:h(()=>[m("Edit admin status")]),_:2},1032,["onClick"])]))),128)),a(i,{class:"all-users__button",onClick:t[0]||(t[0]=r=>s.$router.push("/"))},{default:h(()=>[m("Return to main page")]),_:1})])}const W=g(J,[["render",q],["__scopeId","data-v-87a8a32d"]]),G={data(){return{login:"",password:"",invalidValues:!1,parameters:k()}},methods:{authorization(){_().allUsers.forEach(s=>{JSON.stringify({login:s.login,password:s.password})===JSON.stringify({login:this.login,password:this.password})?(this.invalidValues&&(this.invalidValues=!1),this.parameters.setAuth(!0),this.parameters.setLogin(this.login),this.parameters.setPassword(this.password),this.parameters.setIsAdmin(s.isAdmin),this.login="",this.password="",this.$router.push("/")):this.invalidValues=!0})}}},K=s=>(w("data-v-1cba5b09"),s=s(),y(),s),X=K(()=>l("div",{class:"auth__title"},"Authorization",-1)),Y={class:"auth__inputs"},Z={key:0,class:"auth__invalid-values"};function ss(s,t,f,b,e,p){const i=d("my-input"),r=d("my-button");return n(),u("form",{class:"auth",onSubmit:t[3]||(t[3]=B(()=>{},["prevent"]))},[X,l("div",Y,[a(i,{modelValue:e.login,"onUpdate:modelValue":t[0]||(t[0]=o=>e.login=o),modelModifiers:{trim:!0},placeholder:"Login"},null,8,["modelValue"]),a(i,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=o=>e.password=o),modelModifiers:{trim:!0},placeholder:"Password",type:"password"},null,8,["modelValue"]),a(r,{onClick:p.authorization,class:"auth__login-button"},{default:h(()=>[m("Login")]),_:1},8,["onClick"])]),e.invalidValues?(n(),u("div",Z,"Invalid login or password")):U("",!0),l("div",{onClick:t[2]||(t[2]=o=>s.$router.push("/auth/registration")),class:"auth__logout"},"Not registered? Do this!")],32)}const ts=g(G,[["render",ss],["__scopeId","data-v-1cba5b09"]]),es={data(){return{login:"",password:"",passwordConfirmation:"",invalidValues:!1,registationError:!1,parameters:k()}},methods:{checkAvailibility(){return _().allUsers.some(s=>s.login===this.login)},registration(){this.login.length===0&&this.password.length===0?this.registationError="Login or password is invalid":this.checkAvailibility()?this.registationError="User with this login already exists":this.password.length<6?this.registationError="Password should be at least 6 characters long":this.password!==this.passwordConfirmation?this.registationError="Passwords do not match":(_().addUser({login:this.login,password:this.password,isAdmin:!1}),this.registationError=!1,this.parameters.setAuth(!0),this.parameters.setLogin(this.login),this.parameters.setPassword(this.password),this.login="",this.password="",this.$router.push("/"))}}},os=s=>(w("data-v-702f11b6"),s=s(),y(),s),is=os(()=>l("div",{class:"auth-reg__title"},"Registration",-1)),rs={class:"auth-reg__inputs"},ns={key:0,class:"auth-reg__invalid-values"};function as(s,t,f,b,e,p){const i=d("my-input"),r=d("my-button");return n(),u("form",{class:"auth-reg",onSubmit:t[4]||(t[4]=B(()=>{},["prevent"]))},[is,l("div",rs,[a(i,{modelValue:e.login,"onUpdate:modelValue":t[0]||(t[0]=o=>e.login=o),modelModifiers:{trim:!0},placeholder:"Login"},null,8,["modelValue"]),a(i,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=o=>e.password=o),modelModifiers:{trim:!0},placeholder:"Password",type:"password"},null,8,["modelValue"]),a(i,{modelValue:e.passwordConfirmation,"onUpdate:modelValue":t[2]||(t[2]=o=>e.passwordConfirmation=o),modelModifiers:{trim:!0},placeholder:"Password confirmation",type:"password"},null,8,["modelValue"]),a(r,{onClick:p.registration,class:"auth-reg__login-button"},{default:h(()=>[m("Register")]),_:1},8,["onClick"])]),e.registationError!==!1?(n(),u("div",ns,c(e.registationError),1)):U("",!0),l("div",{onClick:t[3]||(t[3]=o=>s.$router.push("/auth")),class:"auth-reg__logout"},"Do you alredy have an account? Do this!")],32)}const ls=g(es,[["render",as],["__scopeId","data-v-702f11b6"]]),ds={data(){return{builds:I().allBuilds.sort((s,t)=>s.price-t.price),buildUrlName:this.$route.path.split("/")[2],build:null}},methods:{renderBuildName(){this.build=[...this.builds].filter(s=>s.urlName===this.buildUrlName)[0]}},beforeMount(){this.renderBuildName()}},us=s=>(w("data-v-146297ec"),s=s(),y(),s),ps={class:"build__information"},ms={class:"build__information-title"},cs=us(()=>l("div",{class:"build__information-descriptions"},"Information about build:",-1));function _s(s,t,f,b,e,p){const i=d("my-button");return n(),u("div",ps,[l("div",ms,"This is an information page about "+c(e.build.name),1),cs,l("ul",null,[(n(!0),u(A,null,C(e.build,(r,o)=>(n(),u("li",{class:"build__description-key",key:o},c(o)+": "+c(r),1))),128))]),a(i,{class:"build__information-button",onClick:t[0]||(t[0]=r=>s.$router.push("/"))},{default:h(()=>[m("Return to main page")]),_:1})])}const hs=g(ds,[["render",_s],["__scopeId","data-v-146297ec"]]),gs={components:{BuildsList:D,DialogAddBuild:Q},data(){return{parameters:k(),searchQuery:"",builds:I().allBuilds.sort((s,t)=>s.price-t.price),dialogVisible:!1}},methods:{removeBuild(s){this.builds=this.builds.filter(t=>t.name!==s.name)}},computed:{searchBuilds(){return[...this.builds].filter(s=>s.name.toLowerCase().includes(this.searchQuery.toLowerCase()))}}},fs=s=>(w("data-v-fa2d7ea8"),s=s(),y(),s),bs={class:"builds"},vs=fs(()=>l("div",{class:"builds__title"},"All builds:",-1)),ws={class:"builds__content"},ys={key:1,style:{color:"red"}};function $s(s,t,f,b,e,p){const i=d("nav-bar"),r=d("my-input"),o=d("my-button"),S=d("dialogAddBuild"),E=d("builds-list");return n(),u(A,null,[a(i,{class:"builds__navbar"}),l("div",bs,[vs,a(r,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=v=>e.searchQuery=v),placeholder:"Search by name..."},null,8,["modelValue"]),e.parameters.isAdmin?(n(),V(o,{key:0,onClick:t[1]||(t[1]=v=>e.dialogVisible=!0),class:"add-build__button"},{default:h(()=>[m("Add buid")]),_:1})):U("",!0),a(S,{show:e.dialogVisible,"onUpdate:show":t[2]||(t[2]=v=>e.dialogVisible=v),onClose:t[3]||(t[3]=v=>e.parameters.dialogVisible=!1)},null,8,["show"]),l("div",ws,[e.parameters.isAuth?(n(),V(E,{key:0,builds:p.searchBuilds,onRemove:p.removeBuild},null,8,["builds","onRemove"])):(n(),u("span",ys,"First you need to log in for see all builds"))])])],64)}const Vs=g(gs,[["render",$s],["__scopeId","data-v-fa2d7ea8"]]),As=[{path:"/",component:Vs},{path:"/auth",component:ts},{path:"/auth/registration",component:ls},{path:"/build/:name",component:hs},{path:"/users",component:W}],Us=P({routes:As,history:L()}),$=M(H);x.forEach(s=>{$.component(s.name,s)});$.use(R());$.use(Us);$.mount("#app");
